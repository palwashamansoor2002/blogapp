<h1>Posts</h1>
<% @posts.each do |post| %>
  <h2><%= link_to post.title, post %></h2>
  <p>by <%= post.user.name %></p>
  <p><%= truncate(post.body, length: 150) %></p>

  <% if user_signed_in? && (current_user.admin? || post.user == current_user) %>
    <%= link_to "Edit", edit_post_path(post) %> |
    <%= link_to "Delete", post, method: :delete, data: { confirm: "Are you sure?" } %>
  <% end %>

  <hr>
<% end %>

<% if user_signed_in? %>
  <%= link_to "New Post", new_post_path %>
<% else %>
  <%= link_to "Sign up", new_user_registration_path %> or <%= link_to "Sign in", new_user_session_path %>
<% end %>
